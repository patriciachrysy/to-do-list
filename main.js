!function(e){var t={};function n(a){if(t[a])return t[a].exports;var d=t[a]={i:a,l:!1,exports:{}};return e[a].call(d.exports,d,d.exports,n),d.l=!0,d.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var d in e)n.d(a,d,function(t){return e[t]}.bind(null,d));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const a=e=>{const t=document.createElement("div");t.id="project-nav",t.className="sidebar";const n=document.createElement("div");n.className="projects";const a=document.createElement("div");a.className="title";const d=document.createElement("h1");return d.innerText="My Projects",a.appendChild(d),n.appendChild(a),e.forEach(t=>{let a=document.createElement("div");a.setAttribute("data-position",e.indexOf(t)),a.className="project";let d=document.createElement("i");d.className="lar la-circle",a.appendChild(d);let l=document.createElement("h2");l.innerText=t._name,a.appendChild(l),n.appendChild(a)}),t.appendChild(n),t};var d=class{constructor(e){this.name=e,this.tasks=[]}get name(){return this._name}set name(e){this._name=e}get tasks(){return this._tasks}set tasks(e){this._tasks=e}addtask(e){this._tasks.push(e)}};var l=class{constructor(e,t,n,a,d){this.title=e,this.description=t,this.dueDate=n,this.priority=a,this.status=d}get title(){return this._title}set title(e){this._title=e}get description(){return this._description}set description(e){this._description=e}get dueDate(){return this._dueDate}set dueDate(e){this._dueDate=e}get priority(){return this._priority}set priority(e){this._priority=e}get status(){return this._status}set status(e){this._status=e}};const c=()=>JSON.parse(localStorage.getItem("projects")),o=(e,t)=>{let n=c();n[t]=e,localStorage.setItem("projects",JSON.stringify(n))},r=e=>{const t=document.createElement("div");t.className="main-content",t.id="container";const n=document.createElement("div");n.className="header";const a=document.createElement("h1");a.innerText=e._name;const d=document.createElement("div"),l=document.createElement("a");l.id="update-project";const o=document.createElement("i");if(o.className="las la-pencil-alt",c().length>1){const e=document.createElement("a");e.id="delete-project";const t=document.createElement("i");t.className="las la-trash",e.appendChild(t),d.appendChild(e)}l.appendChild(o),n.appendChild(a),d.appendChild(l),n.appendChild(d),t.appendChild(n);const r=document.createElement("div");r.className="tasks",e._tasks.forEach(t=>{let n=i(t,e._tasks.indexOf(t));r.appendChild(n)}),t.appendChild(r);const s=document.createElement("div");s.id="add-task",s.className="more-task";const m=document.createElement("a");return m.innerHTML='<i class="las la-plus"></i> Add Task',s.appendChild(m),t.appendChild(s),t},i=(e,t)=>{console.log(typeof e._dueDate);const n=document.createElement("div");e._status?n.className="task green-bg":new Date(e._dueDate)<new Date?n.className="task red-bg":n.className="task",n.setAttribute("data-task",t);const a=document.createElement("div");a.className="infos";const d=document.createElement("p");d.innerHTML=`<i class="lar la-circle"></i> ${e._title} `;const l=document.createElement("small");l.innerText=e._priority+" - Deadline: "+e._dueDate,a.appendChild(d),a.appendChild(l),n.appendChild(a);const c=document.createElement("div");c.className="actions";const o=document.createElement("a");o.id="task-update";const r=document.createElement("i");r.className="las la-pencil-alt",o.appendChild(r);const i=document.createElement("a");i.id="task-status";const s=document.createElement("i");e._status?s.className="las la-check-circle":s.className="las la-times-circle",i.appendChild(s);const m=document.createElement("a");m.id="task-delete";const p=document.createElement("i");return p.className="las la-trash",m.appendChild(p),c.appendChild(o),c.appendChild(i),c.appendChild(m),n.appendChild(c),n};var s=(()=>{const e=document.createElement("div");e.className="header";const t=document.createElement("h1");t.innerText="Add a new project",e.appendChild(t);const n=document.createElement("form");n.id="project-form";const a=document.createElement("input");a.type="text",a.name="name",a.id="name",a.placeholder="Project name",n.appendChild(a);const d=document.createElement("input");return d.type="button",d.value="Create",d.id="addProject",n.appendChild(d),{mainHeader:e,form:n}})();const m=e=>{const t=document.createElement("div");t.className="header";const n=document.createElement("h1");n.innerText=`Update "${e._name}"`,t.appendChild(n);const a=document.createElement("form");a.id="project-update-form";const d=document.createElement("input");d.type="text",d.name="name",d.id="name",d.value=e._name,a.appendChild(d);const l=document.createElement("input");return l.type="button",l.value="Save",l.id="updateProject",a.appendChild(l),{mainHeader:t,form:a}},p=e=>{const t=document.createElement("div");t.className="header";const n=document.createElement("h1");n.innerText="Add a new task",t.appendChild(n);const a=document.createElement("form");a.id="task-form";const d=document.createElement("input");d.type="text",d.name="title",d.id="title",d.placeholder="Task Title",a.appendChild(d);const l=document.createElement("input");l.cols=30,l.rows=10,l.name="description",l.placeholder="Enter Task Description",a.appendChild(l);const c=document.createElement("input");c.type="date",c.name="dueDate",c.placeholder="Task Due Date",a.appendChild(c);const o=document.createElement("select");o.name="priority",o.placeholder="Choose Priority";["High","Medium","Low"].forEach(e=>{const t=document.createElement("option");t.value=e,t.text=e,o.appendChild(t)}),a.appendChild(o);const r=document.createElement("input");return r.setAttribute("data-project",e),r.type="button",r.value="Create",r.id="addTask",a.appendChild(r),{mainHeader:t,form:a}},u=e=>{const t=document.getElementById(e);let n=null;return t.elements.namedItem("name").value&&(n=t.elements.namedItem("name").value),n},h=e=>{const t=document.getElementById(e);let n=null,a=t.elements.namedItem("title").value,d=t.elements.namedItem("description").value,l=t.elements.namedItem("dueDate").value,c=t.elements.namedItem("priority").value;return a&&d&&l&&c&&(n={title:a,description:d,dueDate:l,priority:c}),n},E=(e,t)=>{const n=document.createElement("div");n.className="header";const a=document.createElement("h1");a.innerText="Edit "+t._title,n.appendChild(a);const d=document.createElement("form");d.id="task-update-form";const l=document.createElement("input");l.type="text",l.name="title",l.id="title",l.value=t._title,d.appendChild(l);const c=document.createElement("input");c.cols=30,c.rows=10,c.name="description",c.value=t._description,d.appendChild(c);const o=document.createElement("input");o.type="date",o.name="dueDate",o.value=t._dueDate,d.appendChild(o);const r=document.createElement("select");r.name="priority",r.value=t._priority;["High","Medium","Low"].forEach(e=>{const t=document.createElement("option");t.value=e,t.text=e,r.appendChild(t)}),d.appendChild(r);const i=document.createElement("input");return i.setAttribute("data-project",e),i.type="button",i.value="Save",i.id="updateTask",d.appendChild(i),{mainHeader:n,form:d}};(()=>{if(!localStorage.getItem("projects")){let e=new Array,t=new d("Example Project"),n=new l("Example task","This is a default task",new Date,"High",!1);t.addtask(n),e.push(t),localStorage.setItem("projects",JSON.stringify(e)),console.log(c())}})();let C=c();const v=(e=>{const t=document.createElement("div");t.className="nav-bar";const n=document.createElement("div");n.classList.add("logo"),t.appendChild(n);const a=document.createElement("div"),d=document.createElement("input");a.classList.add("search-bar"),d.id="search",d.type="search",d.name="search",d.placeholder="Search a project",a.appendChild(d),t.appendChild(a);const l=document.createElement("div");l.className="nav";const c=document.createElement("a");c.id="addForm";const o=document.createElement("i");o.className="las la-plus",c.appendChild(o),l.appendChild(c);const r=document.createElement("a"),i=document.createElement("i");i.className="las la-chart-pie",r.appendChild(i);const s=document.createElement("span");return s.innerText=" "+e,r.appendChild(s),l.appendChild(r),t.appendChild(l),t})(C.length),g=document.getElementById("content");g.appendChild(v);const f=document.createElement("div");f.id="center",f.className="center-content",f.appendChild(a(C)),f.appendChild(r(C[0])),g.appendChild(f);const y=document.getElementById("addForm"),k=()=>{let e=u("project-form");if(e){let t=new d(e);(e=>{let t=c();t.push(e),localStorage.setItem("projects",JSON.stringify(t)),console.log(c())})(t);const n=document.getElementById("container"),l=document.getElementById("project-nav");f.removeChild(n),f.removeChild(l),f.appendChild(a(c())),f.appendChild(r(t)),C=c(),S(),_(C.length-1),N(C.length-1),j(C.length-1),b(C.length-1),B(C.length-1),D(C.length-1)}else alert("Please provide a name for the project")};y.addEventListener("click",()=>{const e=document.getElementById("container");e.innerHTML="",e.appendChild(s.mainHeader),e.appendChild(s.form);document.getElementById("addProject").addEventListener("click",k)});const _=e=>{document.getElementById("add-task").addEventListener("click",()=>{const t=document.getElementById("container");t.innerHTML="",t.appendChild(p(e).mainHeader),t.appendChild(p(e).form);document.getElementById("addTask").addEventListener("click",()=>(e=>{let t=h("task-form");if(t){let n=new l(t.title,t.description,t.dueDate,t.priority,!1),a=C[e];a._tasks.push(n),o(a,e);const d=document.getElementById("container");f.removeChild(d),f.appendChild(r(a)),S(),_(e),N(e),j(e),b(e),B(e),D(e)}else alert("Please provide provide all task informations")})(e))})};_(0);const j=e=>{if(C[e]._tasks.length>0){document.querySelectorAll("#task-delete").forEach(t=>{let n=t.parentElement.parentElement.getAttribute("data-task");t.addEventListener("click",()=>((e,t)=>{let n=C[t];n._tasks.splice(e,1),o(n,t);const a=document.getElementById("container");f.removeChild(a),f.appendChild(r(n)),S(),j(t),N(t),_(t),b(t),B(t),D(t)})(n,e))})}},I=(e,t)=>{let n=C[t]._tasks[e];const a=document.getElementById("container");a.innerHTML="",a.appendChild(E(t,n).mainHeader),a.appendChild(E(t,n).form);document.getElementById("updateTask").addEventListener("click",()=>((e,t)=>{let n=h("task-update-form");if(n){console.log(n);let a=C[t],d=a._tasks[e];d._title=n.title,d._description=n.description,d._dueDate=n.dueDate,d._priority=n.priority,a._tasks[e]=d,o(a,t);const l=document.getElementById("container");f.removeChild(l),f.appendChild(r(a)),S(),_(t),N(t),j(t),b(t),B(t),D(t)}else alert("Please provide all task informations")})(e,t))},N=e=>{if(C[e]._tasks.length>0){document.querySelectorAll("#task-update").forEach(t=>{let n=t.parentElement.parentElement.getAttribute("data-task");t.addEventListener("click",()=>I(n,e))})}},b=e=>{if(C[e]._tasks.length>0){document.querySelectorAll("#task-status").forEach(t=>{let n=t.parentElement.parentElement.getAttribute("data-task");t.addEventListener("click",()=>((e,t)=>{let n=C[t],a=n._tasks[e];a._status=!a._status,n._tasks[e]=a,o(n,t);const d=document.getElementById("container");f.removeChild(d),f.appendChild(r(n)),S(),j(t),N(t),_(t),b(t),B(t),D(t)})(n,e))})}},T=e=>{let t=C[e];const n=document.getElementById("container");n.innerHTML="",n.appendChild(m(t).mainHeader),n.appendChild(m(t).form);document.getElementById("updateProject").addEventListener("click",()=>(e=>{let t=u("project-update-form");if(t){let n=C[e];n._name=t,o(n,e);const d=document.getElementById("container"),l=document.getElementById("project-nav");f.removeChild(d),f.removeChild(l),f.appendChild(a(c())),f.appendChild(r(n)),S(),_(e),N(e),j(e),b(e),B(e),D(e)}else alert("Please provide a name for the project")})(e))},B=e=>{C[e];document.getElementById("update-project").addEventListener("click",()=>T(e))},x=e=>{C[e];(e=>{let t=c();t.splice(e,1),localStorage.setItem("projects",JSON.stringify(t))})(e),C=c();const t=document.getElementById("container"),n=document.getElementById("project-nav");f.removeChild(t),f.removeChild(n),f.appendChild(a(c())),f.appendChild(r(C[0])),S(),j(0),N(0),_(0),b(0),B(0),D(0)},D=e=>{C[e];if(C.length>1){document.getElementById("delete-project").addEventListener("click",()=>x(e))}};j(0),N(0),b(0),B(0),D(0);const S=()=>{document.querySelectorAll(".project").forEach(e=>{e.addEventListener("click",()=>(e=>{let t=document.getElementById("container");f.removeChild(t),f.appendChild(r(C[e])),_(e),j(e),N(e),b(e),B(e),D(e)})(e.getAttribute("data-position")))})};S()}]);